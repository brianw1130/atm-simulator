# ATM Simulator — Environment Configuration
# Copy this file to .env and adjust values as needed:
#   cp .env.example .env

# ── Database ──────────────────────────────────────────────────────────
# PostgreSQL connection string used by SQLAlchemy async engine (asyncpg driver)
DATABASE_URL=postgresql+asyncpg://atm_user:atm_pass@db:5432/atm_db
# Synchronous connection string used by Alembic migrations
DATABASE_URL_SYNC=postgresql://atm_user:atm_pass@db:5432/atm_db

# ── Redis ────────────────────────────────────────────────────────────
# Redis connection URL for session storage, rate limiting, and Celery broker
REDIS_URL=redis://redis:6379/0

# ── Security ──────────────────────────────────────────────────────────
# Secret key for session token signing — MUST be changed in production
SECRET_KEY=change-me-in-production
# Application-level pepper appended to PINs before bcrypt hashing — MUST be changed in production
PIN_PEPPER=change-me-in-production

# ── Session Management ────────────────────────────────────────────────
# Seconds of inactivity before a session expires (default: 120 = 2 minutes)
SESSION_TIMEOUT_SECONDS=120

# ── Authentication ────────────────────────────────────────────────────
# Number of consecutive failed PIN attempts before account lockout
MAX_FAILED_PIN_ATTEMPTS=3
# Duration in seconds that an account stays locked after max failed attempts (default: 1800 = 30 min)
LOCKOUT_DURATION_SECONDS=1800

# ── Transaction Limits ────────────────────────────────────────────────
# All monetary limits are specified in cents (integer) to avoid floating-point issues
# Daily withdrawal limit per account (default: 50000 = $500.00)
DAILY_WITHDRAWAL_LIMIT=50000
# Daily transfer limit per account (default: 250000 = $2,500.00)
DAILY_TRANSFER_LIMIT=250000

# ── Statement Generation ─────────────────────────────────────────────
# Directory where generated PDF statements are saved
STATEMENT_OUTPUT_DIR=/app/statements

# ── Logging ───────────────────────────────────────────────────────────
# Python log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ── Environment ───────────────────────────────────────────────────────
# Application environment: development, testing, or production
# Controls debug features, docs endpoints, and database echo
ENVIRONMENT=development
